# yaml-language-server: $schema=./json_schema/sibytes_yetl_tables_schema.json

version: 2.0.3

audit_control:
  delta_lake:
    control_ooo_loading:
      base_audt:
        depends_on:
        - base.ooo_loading.base_balance
        sql: ../sql/{{database}}/{{table}}.sql
      catalog: development
      raw_audt:
        depends_on:
        - raw.ooo_loading.raw_balance
        sql: ../sql/{{database}}/{{table}}.sql

landing:
  read:
    ooo_loading:
      balance: null
      catalog: development

raw:
  delta_lake:
    ooo_loading:
      catalog: development
      raw_balance:
        cluster_by: transacted
        custom_properties:
          process_group: 1
          rentention_days: 365
        depends_on:
        - landing.ooo_loading.balance
        id:
        - transacted
        - id
        - code_1
        - code_2
        - code_3
        - code_4
        - code_5

base:
  delta_lake:
    ooo_loading:
      base_balance:
        cluster_by: transacted
        custom_properties:
          process_group: 1
          rentention_days: 365
        depends_on:
        - raw.ooo_loading.raw_balance
        id:
        - transacted
        - id
        - code_1
        - code_2
        - code_3
        - code_4
        - code_5
      catalog: development

